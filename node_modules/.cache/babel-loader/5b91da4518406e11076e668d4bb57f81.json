{"ast":null,"code":"import _regeneratorRuntime from\"/Users/sudhakaracnr/Documents/JWT_React_prototype/jwt-react-app/Frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/sudhakaracnr/Documents/JWT_React_prototype/jwt-react-app/Frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/sudhakaracnr/Documents/JWT_React_prototype/jwt-react-app/Frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import'./App.css';import Login from'./components/Login/Login';import Home from'./components/Home/home';import Search from'./components/Search/search';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function App(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),l=_useState2[0],setL=_useState2[1];var _useState3=useState(\"Login\"),_useState4=_slicedToArray(_useState3,2),disLogin=_useState4[0],setDisLogin=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),home=_useState6[0],setHome=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),search=_useState8[0],setSearch=_useState8[1];var _useState9=useState(\"none\"),_useState10=_slicedToArray(_useState9,2),cookie=_useState10[0],setCookie=_useState10[1];var getToken=function getToken(t,n){if(t===\"\"){setL(true);setHome(false);setSearch(false);setDisLogin(\"Login\");}else{console.log(n);setCookie(t);setL(false);setHome(true);setSearch(false);setDisLogin(n);}};var Auth=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios({method:\"post\",url:\"/auth\",headers:{token:\"\".concat(cookie)}});case 2:res=_context.sent;return _context.abrupt(\"return\",res.data.auth);case 4:case\"end\":return _context.stop();}}},_callee);}));return function Auth(){return _ref.apply(this,arguments);};}();var toLogin=function toLogin(){setL(true);setHome(false);setSearch(false);};var toHome=function toHome(){setHome(true);setL(false);setSearch(false);};var toSearch=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var identify;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return Auth();case 2:identify=_context2.sent;console.log(identify);if(identify){setL(false);setHome(false);setSearch(true);}else{setL(true);setHome(false);setSearch(false);}case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function toSearch(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"icon\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"50\",height:\"50\",fill:\"currentColor\",class:\"bi bi-cloud-fog2-fill\",viewBox:\"0 0 16 16\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M8.5 3a5.001 5.001 0 0 1 4.905 4.027A3 3 0 0 1 13 13h-1.5a.5.5 0 0 0 0-1H1.05a3.51 3.51 0 0 1-.713-1H9.5a.5.5 0 0 0 0-1H.035a3.53 3.53 0 0 1 0-1H7.5a.5.5 0 0 0 0-1H.337a3.5 3.5 0 0 1 3.57-1.977A5.001 5.001 0 0 1 8.5 3z\"})}),/*#__PURE__*/_jsx(\"h1\",{children:\"Weather Forage\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"nav\",children:[/*#__PURE__*/_jsx(\"a\",{onClick:toHome,children:\"Home\"}),/*#__PURE__*/_jsx(\"a\",{onClick:toSearch,children:\"Search\"}),/*#__PURE__*/_jsx(\"a\",{onClick:toLogin,children:disLogin})]})]}),/*#__PURE__*/_jsx(Home,{home:home}),/*#__PURE__*/_jsx(Login,{login:l,auth:Auth,sendToken:getToken}),/*#__PURE__*/_jsx(Search,{search:search})]});}export default App;","map":{"version":3,"names":["useState","Login","Home","Search","axios","App","l","setL","disLogin","setDisLogin","home","setHome","search","setSearch","cookie","setCookie","getToken","t","n","console","log","Auth","method","url","headers","token","res","data","auth","toLogin","toHome","toSearch","identify"],"sources":["/Users/sudhakaracnr/Documents/JWT_React_prototype/jwt-react-app/Frontend/src/App.js"],"sourcesContent":["import { useState } from 'react';\nimport './App.css';\nimport Login from './components/Login/Login';\nimport Home from './components/Home/home';\nimport Search from './components/Search/search';\nimport axios from 'axios';\n\nfunction App() {\n\n  const [l, setL] = useState(false);\n  const [disLogin, setDisLogin] = useState(\"Login\");\n  const [home, setHome] = useState(true);\n  const [search, setSearch] = useState(false);\n  const [cookie, setCookie] = useState(\"none\");\n\n  const getToken = (t, n)=>{\n    if(t === \"\"){\n      setL(true);\n      setHome(false);\n      setSearch(false);\n      setDisLogin(\"Login\");\n    }else{\n      console.log(n);\n      setCookie(t);\n      setL(false);\n      setHome(true);\n      setSearch(false);\n      setDisLogin(n);\n    }\n\n  }\n\n  const Auth = async ()=>{\n        const res = await axios({\n            method : \"post\",\n            url : \"/auth\",\n            headers : {\n                token : `${cookie}`\n            }\n        })\n        return res.data.auth;\n  }\n\n  const toLogin = ()=>{\n    setL(true);\n    setHome(false);\n    setSearch(false);\n  }\n\n  const toHome = ()=>{\n    setHome(true);\n    setL(false);\n    setSearch(false);\n  }\n\n  const toSearch = async ()=>{\n    const identify = await Auth();\n    console.log(identify);\n    if(identify){\n      setL(false);\n      setHome(false);\n      setSearch(true);\n    }else{\n      setL(true);\n      setHome(false);\n      setSearch(false);\n    }\n  }\n\n\n  return (\n    <>\n      <div className=\"App\">\n          <div className=\"icon\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"50\" fill=\"currentColor\" class=\"bi bi-cloud-fog2-fill\" viewBox=\"0 0 16 16\">\n              <path d=\"M8.5 3a5.001 5.001 0 0 1 4.905 4.027A3 3 0 0 1 13 13h-1.5a.5.5 0 0 0 0-1H1.05a3.51 3.51 0 0 1-.713-1H9.5a.5.5 0 0 0 0-1H.035a3.53 3.53 0 0 1 0-1H7.5a.5.5 0 0 0 0-1H.337a3.5 3.5 0 0 1 3.57-1.977A5.001 5.001 0 0 1 8.5 3z\"/>\n            </svg>\n            <h1>Weather Forage</h1>\n          </div>\n          <div className=\"nav\">\n            <a onClick={toHome}>Home</a>\n            <a onClick={toSearch}>Search</a>\n            <a onClick={toLogin}>{disLogin}</a>\n          </div>\n      </div>\n      <Home home={home}/>\n      <Login login={l} auth={Auth} sendToken={getToken}/>\n      <Search search={search}/>\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}