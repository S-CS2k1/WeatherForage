{"ast":null,"code":"import _regeneratorRuntime from\"/Users/sudhakaracnr/Documents/JWT_React_prototype/jwt-react-app/Frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/sudhakaracnr/Documents/JWT_React_prototype/jwt-react-app/Frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/sudhakaracnr/Documents/JWT_React_prototype/jwt-react-app/Frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import axios from'axios';import'./Login.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Login=function Login(prop){var _useState=useState(),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var userLogin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var id;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return prop.auth();case 2:id=_context.sent;if(id){console.log(id);}else{axios({method:\"post\",url:\"/login\",headers:{},data:{email:\"\".concat(email),password:\"\".concat(password)}}).then(function(ob){if(ob.data.auth){console.log(ob.data);prop.sendToken(ob.data.session,ob.data.username.user);}else{prop.sendToken(\"\");}}).catch(function(err){console.log(err);prop.sendToken(\"\");});}case 4:case\"end\":return _context.stop();}}},_callee);}));return function userLogin(){return _ref.apply(this,arguments);};}();if(prop.login){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"login\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Email\",onChange:function onChange(e){setEmail(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",onChange:function onChange(e){setPassword(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:userLogin,children:\"Login\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"New to us - \",/*#__PURE__*/_jsx(\"a\",{children:\"Register\"})]})]})})});}return/*#__PURE__*/_jsx(_Fragment,{});};export default Login;","map":{"version":3,"names":["useState","axios","Login","prop","email","setEmail","password","setPassword","userLogin","auth","id","console","log","method","url","headers","data","then","ob","sendToken","session","username","user","catch","err","login","e","target","value"],"sources":["/Users/sudhakaracnr/Documents/JWT_React_prototype/jwt-react-app/Frontend/src/components/Login/Login.js"],"sourcesContent":["import { useState } from \"react\";\nimport axios from 'axios';\nimport './Login.css'\n\n\nconst Login = (prop)=>{\n\n    const [email, setEmail] = useState();\n    const [password, setPassword] = useState();\n\n    const userLogin = async ()=>{\n        const id = await prop.auth();\n        if(id){\n            console.log(id);\n        }\n        else{\n            axios({\n                method : \"post\",\n                url : \"/login\",\n                headers : {},\n                data : {\n                    email : `${email}`,\n                    password : `${password}`\n                }\n            })\n            .then((ob)=>{\n                if(ob.data.auth){\n                    console.log(ob.data);\n                    prop.sendToken(ob.data.session, ob.data.username.user);\n                }else{\n                    prop.sendToken(\"\");\n                }\n            })\n            .catch((err)=>{\n                console.log(err);\n                prop.sendToken(\"\");\n            })\n        }\n    }\n\n    if(prop.login){\n        return(\n            <>\n                <div className=\"login\">\n                    <div className=\"login2\">\n                        <input type=\"text\" placeholder=\"Email\"\n                            onChange={\n                                (e)=>{\n                                    setEmail(e.target.value);\n                                }\n                            }\n                        />\n                        <input type=\"password\" placeholder=\"Password\" \n                            onChange={\n                                (e)=>{\n                                    setPassword(e.target.value);\n                                }\n                            }\n                        />\n                        <button type=\"submit\" onClick={userLogin}>Login</button>\n                        <span>New to us - <a>Register</a></span>\n                    </div>\n                </div>\n            </>\n        );\n    }\n    return(\n        <></>\n    );\n}\n\nexport default Login;"],"mappings":"0eAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,MAAOC,MAAK,KAAM,OAAO,CACzB,MAAO,aAAa,8IAGpB,GAAMC,MAAK,CAAG,QAARA,MAAK,CAAIC,IAAI,CAAG,CAElB,cAA0BH,QAAQ,EAAE,wCAA7BI,KAAK,eAAEC,QAAQ,eACtB,eAAgCL,QAAQ,EAAE,yCAAnCM,QAAQ,eAAEC,WAAW,eAE5B,GAAMC,UAAS,4FAAG,kKACGL,KAAI,CAACM,IAAI,EAAE,QAAtBC,EAAE,eACR,GAAGA,EAAE,CAAC,CACFC,OAAO,CAACC,GAAG,CAACF,EAAE,CAAC,CACnB,CAAC,IACG,CACAT,KAAK,CAAC,CACFY,MAAM,CAAG,MAAM,CACfC,GAAG,CAAG,QAAQ,CACdC,OAAO,CAAG,CAAC,CAAC,CACZC,IAAI,CAAG,CACHZ,KAAK,WAAMA,KAAK,CAAE,CAClBE,QAAQ,WAAMA,QAAQ,CAC1B,CACJ,CAAC,CAAC,CACDW,IAAI,CAAC,SAACC,EAAE,CAAG,CACR,GAAGA,EAAE,CAACF,IAAI,CAACP,IAAI,CAAC,CACZE,OAAO,CAACC,GAAG,CAACM,EAAE,CAACF,IAAI,CAAC,CACpBb,IAAI,CAACgB,SAAS,CAACD,EAAE,CAACF,IAAI,CAACI,OAAO,CAAEF,EAAE,CAACF,IAAI,CAACK,QAAQ,CAACC,IAAI,CAAC,CAC1D,CAAC,IAAI,CACDnB,IAAI,CAACgB,SAAS,CAAC,EAAE,CAAC,CACtB,CACJ,CAAC,CAAC,CACDI,KAAK,CAAC,SAACC,GAAG,CAAG,CACVb,OAAO,CAACC,GAAG,CAACY,GAAG,CAAC,CAChBrB,IAAI,CAACgB,SAAS,CAAC,EAAE,CAAC,CACtB,CAAC,CAAC,CACN,CAAC,sDACJ,kBA5BKX,UAAS,0CA4Bd,CAED,GAAGL,IAAI,CAACsB,KAAK,CAAC,CACV,mBACI,sCACI,YAAK,SAAS,CAAC,OAAO,uBAClB,aAAK,SAAS,CAAC,QAAQ,wBACnB,cAAO,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,OAAO,CAClC,QAAQ,CACJ,kBAACC,CAAC,CAAG,CACDrB,QAAQ,CAACqB,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAC5B,CACH,EACH,cACF,cAAO,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,UAAU,CACzC,QAAQ,CACJ,kBAACF,CAAC,CAAG,CACDnB,WAAW,CAACmB,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAC/B,CACH,EACH,cACF,eAAQ,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAEpB,SAAU,mBAAe,cACxD,oDAAkB,+BAAe,GAAO,GACtC,EACJ,EACP,CAEX,CACA,mBACI,kBAAK,CAEb,CAAC,CAED,cAAeN,MAAK"},"metadata":{},"sourceType":"module"}